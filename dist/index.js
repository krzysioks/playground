!function(c){function e(e){for(var t,n,r=e[0],a=e[1],o=e[2],s=0,i=[];s<r.length;s++)n=r[s],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&i.push(l[n][0]),l[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(c[t]=a[t]);for(p&&p(e);i.length;)i.shift()();return m.push.apply(m,o||[]),u()}function u(){for(var e,t=0;t<m.length;t++){for(var n=m[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==l[o]&&(r=!1)}r&&(m.splice(t--,1),e=s(s.s=n[0]))}return e}var n={},l={0:0},m=[];function s(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=c,s.c=n,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var t=window.webpackJsonp=window.webpackJsonp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var a=0;a<t.length;a++)e(t[a]);var p=r;m.push([388,1]),u()}({386:function(e,t,n){var r=n(201),a=n(387);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},s=(r(e.i,a,o),a.locals?a.locals:{});e.exports=s},387:function(e,t,n){(t=n(202)(!1)).push([e.i,"html, body {\n    height: 100%;\n    background-color: rgb(211, 211, 211);\n  }\n.dark {\n    background-color: rgb(211, 211, 211);\n  }\n.app {\n    height: 100%;\n}\n.loginCard {\n    width: 300px;\n    height: 450px;\n}\n.statusContainer {\n    top: 7px;\n    margin: 0px 45px 0px 45px;\n}\n.statusLabel {\n    top: -2px;\n}\n.pointer {\n    cursor: pointer;\n}",""]),e.exports=t},388:function(e,t,n){"use strict";n.r(t);var y=n(0),g=n.n(y);n(44),n(68),n(69),n(48),n(50),n(51),n(70),n(71),n(72);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(){Object(y.useEffect)(function(){fetch("./test").then(function(e){return e.json()}).then(function(e){console.log("response",e)})},[]);var e=r(Object(y.useState)(0),2),t=e[0],n=e[1];return g.a.createElement("div",null,g.a.createElement("div",null,"Counter: ",t),g.a.createElement("button",{onClick:function(){n(t+1)}},"Count"))}n(73);var b=n(85),o=n(24),s=n(27),E=(n(152),n(153),n(154),n(389)),w=n(390);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function x(e){var t=e.field,n=e.form,r=n.touched,a=n.errors,o=c(e,["field","form"]);return g.a.createElement("div",null,g.a.createElement(E.a,i({},t,o,{invalid:!(!r[t.name]||!a[t.name])})),r[t.name]&&a[t.name]&&g.a.createElement(w.a,null,a[t.name]))}var k=n(391),j=n(392),l=n(393),O=n(394),S=n(10);function u(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function m(i){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=i.apply(e,s);function a(e){u(r,t,n,a,o,"next",e)}function o(e){u(r,t,n,a,o,"throw",e)}a(void 0)})}}function P(){return p.apply(this,arguments)}function p(){return(p=m(regeneratorRuntime.mark(function e(t){var n,r,a,o,s,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<i.length&&void 0!==i[1]?i[1]:{},r=2<i.length&&void 0!==i[2]?i[2]:{},a={"Content-Type":"application/json"},Object.keys(r)&&(a=Object.assign(a,r)),e.next=6,fetch(t,{method:"POST",credentials:"include",headers:new Headers(a),body:JSON.stringify(n)});case 6:return o=e.sent,s=h(o),e.abrupt("return",f(s));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(){return d.apply(this,arguments)}function d(){return(d=m(regeneratorRuntime.mark(function e(t){var n,r,a,o,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<s.length&&void 0!==s[1]?s[1]:{},r={"Content-Type":"application/json"},Object.keys(n)&&(r=Object.assign(r,n)),e.next=5,fetch(t,{credentials:"include",method:"GET",headers:new Headers(r)});case 5:return a=e.sent,o=h(a),e.abrupt("return",f(o));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return e.json()}function h(e){if(200<=e.status&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}var v=n(16);function R(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=v.object().shape({username:v.string().min(2,"User name is too short").max(50,"User name is too long").required("Username is required"),password:v.string().min(8,"Password too short").matches(/(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*()])/,'Password must have at least one: large and small letter, number, special character "!@#$%^&*())"').required("Password is required")}),T=Object(s.g)(function(c){var u=C(Object(b.a)("token",""),2)[1],e=function(){var i,n=(i=regeneratorRuntime.mark(function e(t,n){var r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("/task/login",t);case 2:r=e.sent,a=r.isUser,o=r.passwordMatched,s=r.token,a?o?(u(s),c.history.push("/task/mainview")):n.setErrors({password:"Password does not match"}):n.setErrors({username:"User does not exist"}),n.setSubmitting(!1);case 8:case"end":return e.stop()}},e)}),function(){var e=this,s=arguments;return new Promise(function(t,n){var r=i.apply(e,s);function a(e){R(r,t,n,a,o,"next",e)}function o(e){R(r,t,n,a,o,"throw",e)}a(void 0)})});return function(e,t){return n.apply(this,arguments)}}();return g.a.createElement("div",{className:"app d-flex justify-content-center align-items-center"},g.a.createElement(k.a,{className:"loginCard"},g.a.createElement(j.a,null,g.a.createElement(l.a,null,"Welcome to Task App"),g.a.createElement(S.c,{initialValues:{username:"",password:""},validationSchema:A,onSubmit:e,component:function(e){var t=e.isValid,n=e.isSubmitting;return g.a.createElement(S.b,null,g.a.createElement(S.a,{component:x,name:"username",className:"mt-1",type:"text",placeholder:"user name"}),g.a.createElement(S.a,{component:x,name:"password",className:"mt-1",type:"password",placeholder:"password"}),g.a.createElement("div",{className:"d-flex flex-row justify-content-between mt-2"},g.a.createElement(O.a,{disabled:!t||n,color:"secondary"},"log in"),g.a.createElement(o.b,{className:"align-self-end",to:"/task/register"},"register")))}}))))});n(196);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function q(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}var U=v.object().shape({username:v.string().min(2,"User name is too short").max(50,"User name is too long").required("Username is required"),password:v.string().min(8,"Password too short").matches(/(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*()])/,'Password must have at least one: large and small letter, number, special character "!@#$%^&*())"').required("Password is required"),email:v.string().required("Email is required").email("Email is invalid")}),z=Object(s.g)(function(){var e=function(){var i,n=(i=regeneratorRuntime.mark(function e(t,n){var r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.password===t.retypedpassword)return e.next=3,P("/task/register",t);e.next=9;break;case 3:r=e.sent,a=r.userRegistered,o=r.statusList,a?n.setStatus({msg:"Dear ".concat(t.username,", you signed up successfully.")}):(s={},o.forEach(function(e){var t=_(e,3),n=t[0],r=t[2];s[n]=r}),n.setErrors(s)),e.next=10;break;case 9:n.setErrors({retypedpassword:"Passwords do not match"});case 10:n.setSubmitting(!1);case 11:case"end":return e.stop()}},e)}),function(){var e=this,s=arguments;return new Promise(function(t,n){var r=i.apply(e,s);function a(e){q(r,t,n,a,o,"next",e)}function o(e){q(r,t,n,a,o,"throw",e)}a(void 0)})});return function(e,t){return n.apply(this,arguments)}}();return g.a.createElement("div",{className:"app d-flex justify-content-center align-items-center"},g.a.createElement(k.a,{className:"loginCard"},g.a.createElement(j.a,null,g.a.createElement(l.a,null,"Please sign up to use Task App"),g.a.createElement(S.c,{initialValues:{username:"",password:"",email:"",retypedpassword:""},validationSchema:U,onSubmit:e,component:function(e){var t=e.isValid,n=e.isSubmitting,r=e.status;return g.a.createElement(S.b,null,g.a.createElement(S.a,{component:x,name:"username",className:"mt-1",type:"text",placeholder:"user name"}),g.a.createElement(S.a,{component:x,name:"password",className:"mt-1",type:"password",placeholder:"password"}),g.a.createElement(S.a,{component:x,name:"retypedpassword",className:"mt-1",type:"password",placeholder:"retype password"}),g.a.createElement(S.a,{component:x,name:"email",className:"mt-1",type:"text",placeholder:"example@domian.com"}),r&&r.msg?g.a.createElement("div",null,g.a.createElement(E.a,{type:"hidden",valid:!0}),g.a.createElement(w.a,{valid:!0},r.msg)):"",g.a.createElement("div",{className:"d-flex flex-row justify-content-between mt-2"},g.a.createElement(O.a,{type:"submit",disabled:!t||n,color:"secondary"},"sign up"),g.a.createElement(o.b,{className:"align-self-end",to:"/task/login"},"cancel")))}}))))}),L=(n(373),n(395)),V=n(396),I=n(57);function M(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function D(i){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=i.apply(e,s);function a(e){M(r,t,n,a,o,"next",e)}function o(e){M(r,t,n,a,o,"throw",e)}a(void 0)})}}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function J(){return g.a.createElement(o.a,null,g.a.createElement(s.d,null,g.a.createElement(s.b,{path:"/hooks",component:a}),g.a.createElement(s.b,{path:"/task/login",component:T}),g.a.createElement(s.b,{path:"/task/register",component:z}),g.a.createElement(s.b,{path:"/task/mainview",component:Z}),g.a.createElement(s.b,{path:"/task/unauthorized",component:F}),g.a.createElement(s.a,{from:"/",to:"/task/login",exact:!0})))}var H=v.object().shape({name:v.string().min(2,"User name is too short").max(50,"User name is too long").required("Name of the task is required")}),Z=Object(s.g)(function(i){var c=$(Object(b.a)("token"),1)[0],e=$(Object(y.useState)([]),2),t=e[0],r=e[1],n=$(Object(y.useState)(!1),2),a=n[0],u=n[1],o=$(Object(y.useState)(null),2),s=o[0],l=o[1];Object(y.useEffect)(function(){v()},[]);var m=function(){var n=D(regeneratorRuntime.mark(function e(t,n){var r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("/task/add",t,{"x-auth":c});case 3:if(r=e.sent,a=r.taskAdded,o=r.statusList,a)return n.resetForm(),n.setStatus({msg:"Task added"}),e.next=11,v();e.next=14;break;case 11:window.setTimeout(function(){n.setStatus({msg:""})},5e3),e.next=17;break;case 14:s={},o.forEach(function(e){var t=$(e,3),n=t[0],r=t[2];s[n]=r}),n.setErrors(s);case 17:n.setSubmitting(!1),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),u(!1),i.history.push("/task/unauthorized");case 24:case"end":return e.stop()}},e,null,[[0,20]])}));return function(e,t){return n.apply(this,arguments)}}(),p=function(){var t=D(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l(t===s?null:t);case 2:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),d=function(){var n=D(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t,n,{"x-auth":c});case 3:v(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),u(!1),i.history.push("/task/unauthorized");case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e,t){return n.apply(this,arguments)}}(),f=function(){var n=D(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:13===n.keyCode&&d("/task/edit",{_id:t,name:n.target.value});case 1:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),h=function(){var e=D(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("task/logout",{},{"x-auth":c});case 3:i.history.push("/task/login"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),u(!1),i.history.push("/task/unauthorized");case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=D(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(null),e.next=4,N("/task/all",{"x-auth":c});case 4:t=e.sent,n=t.tasks,r(n),u(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u(!1),i.history.push("/task/unauthorized");case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();return a?g.a.createElement("div",null,g.a.createElement(k.a,{className:"dark"},g.a.createElement(j.a,{className:"d-flex flex-row justify-content-between"},g.a.createElement(O.a,{onClick:v,color:"secondary"},"Refresh"),g.a.createElement(O.a,{onClick:h,color:"secondary"},"logout")),g.a.createElement(j.a,null,g.a.createElement(S.c,{initialValues:{name:"",status:!1},validationSchema:H,onSubmit:m,component:function(e){var t=e.isValid,n=e.isSubmitting,r=e.status;return g.a.createElement(S.b,null,g.a.createElement("div",{className:"d-flex flex-row"},g.a.createElement(S.a,{component:x,name:"name",className:"mr-2",type:"text",placeholder:"task name"}),g.a.createElement("div",{className:"position-relative statusContainer"},g.a.createElement(S.a,{component:x,name:"status",type:"checkbox",id:"_taskstatus"}),g.a.createElement(L.a,{className:"position-relative statusLabel",for:"_taskstatus"},"completed")),g.a.createElement(O.a,{disabled:!t||n,color:"secondary"},"Add")),r&&r.msg?g.a.createElement("div",null,g.a.createElement(E.a,{type:"hidden",valid:!0}),g.a.createElement(w.a,{valid:!0},r.msg)):"")}})),g.a.createElement(j.a,null,g.a.createElement(V.a,{striped:!0,dark:!0},g.a.createElement("thead",null,g.a.createElement("tr",null,g.a.createElement("th",null,"Name"),g.a.createElement("th",null,"Created"),g.a.createElement("th",null,"Status"),g.a.createElement("th",null))),g.a.createElement("tbody",null,t.length?t.map(function(e,t){var n=e.name,r=e.status,a=e.creationDate,o=e._id;return g.a.createElement("tr",{key:t},g.a.createElement("td",null,s===t?g.a.createElement(E.a,{onKeyDown:f.bind(null,o),type:"text",defaultValue:n}):n),g.a.createElement("td",null,new Date(a).toLocaleDateString("pl-PL",{hour:"2-digit",minute:"2-digit"})),g.a.createElement("td",null,r?"Completed":"Not Completed"),g.a.createElement("td",null,r?g.a.createElement(I.d,{onClick:d.bind(null,"/task/edit",{_id:o,status:!1})}):g.a.createElement(I.b,{onClick:d.bind(null,"/task/edit",{_id:o,status:!0})})," ",g.a.createElement(I.c,{onClick:p.bind(null,t)})," ",g.a.createElement(I.a,{onClick:d.bind(null,"/task/delete",{_id:o})})," "))}):g.a.createElement("tr",null,g.a.createElement("td",{colSpan:"4"},"No data to display"))))))):g.a.createElement("div",null,"Loading...")}),B=n(397),F=Object(s.g)(function(){return g.a.createElement("div",null,g.a.createElement(B.a,{color:"danger",className:"d-flex justify-content-center"},"You are not authorized to access this page. Please",g.a.createElement(o.b,{className:"ml-1",to:"/task/login"}," log in")))}),G=n(84),K=n.n(G);n(384),n(386);K.a.render(g.a.createElement(J,null),document.getElementById("playground"))}});